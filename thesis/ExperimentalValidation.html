
<!DOCTYPE html>
<html dir="ltr" xml:lang="en" lang="en">
<head>
  <title>Lowering the cost of anonymization</title>

  <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
  <link rel="contents" href="index.html" />
  <link rel="icon" type="image/png" href="/favicon.png" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:creator" content="@TedOnPrivacy" />
  <meta name="twitter:title" content="Lowering the cost of anonymization" />
  <meta name="twitter:description" content="Damien Desfontaines' PhD thesis, in HTML format" />

  <!-- suggested by rebecca on streambed to fix a zoomed-out display issue on mobile -->
  <meta name=viewport content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../style/menu.css" type="text/css" />
  <link rel="stylesheet" href="../style/blog.css" type="text/css" media="screen" />
  <link rel="stylesheet" href="../style/blog-mobile.css" type="text/css" media="(max-width: 580px)" />
  <link rel="stylesheet" href="../style/blog-print.css" type="text/css" media="print" />
  <link rel="stylesheet" href="../style/pygments.css" type="text/css" />
  <link rel="icon" type="image/png" href="/favicon.png" />

  <!-- tex4ht-specific things -->
  <meta content="TeX4ht (https://tug.org/tex4ht/)" name="generator">
  <link rel="stylesheet" href="index.css" type="text/css" />
  <link rel="stylesheet" href="../style/mathjax-chtml.css" type="text/css" />
  <style type="text/css">
    <!--
      span.next { display:none; }
      div.crosslinks { display:none; }
      article > div table,th,td {
        border: none;
      }
      article > div h2:before {
        display: none;
        content: none;
      }
      article > div h3:before {
        display: none;
        content: none;
      }
      article tr:nth-child(even) {
        background: #EEE;
      }
      article tr:nth-child(odd) {
        background: #FFF;
      }
      article > div p.noindent {
        text-indent: 0;
      }
      article > div p.indent {
        text-indent: 2em;
      }
      .t1xsssl-x-x-95{
        font-style: normal;
      }
      .t1xss-x-x-95{
        font-style: italic;
      }
      div.footnotes{
        border-top: solid 1px black;
        border-bottom: none;
        padding-bottom: 1ex;
        padding-top: 0.5ex;
        margin-right: 0;
        margin-top: 2ex;
        font-style: normal;
        font-size: 105%;
      }
      article > div div.footnotes p.indent {
        text-indent: 0;
      }
      article > div figure.float:not(.tabular):not(.caption) {
        text-align: left;
      }
      .t1xtt-x-x-109 {
        font-size: 90%;
      }
      article > div dl {
        display: grid;
        grid-template-columns: max-content auto;
      }
      article > div dt {
        grid-column-start: 1;
      }
      article > div dd {
        grid-column-start: 2;
      }
      article > div dd p {
        margin: 0;
      }
    -->
  </style>

  <link ref="prev" href="EstimatingReidentifiabilityAndJoinabilityUsingKHLL.html" />
  <link ref="next" href="SummaryAndPerspectives.html" />

  <style type="text/css">
    <!--
      span.baddirection { unicode-bidi:bidi-override; direction: rtl; }
    -->
  </style>
</head>
<body>
  <!-- also suggested by rebecca, to allow screen readers to skip the menu -->
  <a aria-label="Skip to content" href="#contenu"></a>
  <div id="menuGlobal">
    <table>
      <tr>
        <td>
          <a href="../index.html">
            ..<span id='joueur'>@</span>..<span class='blue'>♦</span>.<span class='red'>D</span>.
            <img src="../flag-uk.png" alt=""/>
          </a>
        </td>
        <td>
          <a href="/serious.html">About <img src="../flag-uk.png" alt=""/></a>
          <a href="/serious-fr.html"><img src="../flag-france.gif" alt=""/></a>
        </td>
        <td>
          <a href="/privacy/index.html">Blog <img src="flag-uk.png" alt=""/></a>
          <a href="/blog/index.html"><img src="../flag-france.gif" alt=""/></a>
        </td>
        <td>
          <a href="/Recettes/index.html">Recipes <img src="../flag-france.gif" alt=""/></a>
        </td>
      </tr>
      <!-- no submenu for the thesis -->
    </table>
  </div>

  <div id="container">
    <header>
      <h1><a href="./">
        <span property="dct:title">Lowering the cost of anonymization</span>
      </a></h1>
      a PhD thesis
    </header>
    <nav>
      <ul class="nav">
        <li><a href="EstimatingReidentifiabilityAndJoinabilityUsingKHLL.html">← previous</a></li>
        <li><a href="AnalyzingPrivacyRisksAtScale.html#ExperimentalValidation.html">up</a></li>
        <li><a href="SummaryAndPerspectives.html">next →</a></li>
      </ul>
      <ul>
        <li><a href="index.html">table of contents</a></li>
      </ul>
    </nav>
    <article id="contenu">
      <div>


  <!-- l. 1 --><div class="crosslinks"><p class="noindent"><a href="EstimatingReidentifiabilityAndJoinabilityUsingKHLL.html">LINKPREV</a><a href="AnalyzingPrivacyRisksAtScale.html#ExperimentalValidation.html">LINKUP</a><a href="SummaryAndPerspectives.html">LINKNEXT</a></p></div>
  <h4 class="subsectionHead" id="experimental-validation-u-ding-"><span class="titlemark">4.1.4</span>&nbsp;&nbsp;<a id="x48-1570004.1.4"></a>Experimental validation <span class="bbding-10x-x-109">✿</span></h4> <!-- l. 3 --><p class="noindent">
In this section, we validate the efficiency and accuracy of KHLL experimentally. Efficiency is validated
in a production environment, so the experimental results provided are as realistic as possible. To
provide reproducible validation results about accuracy, we have implemented a version of the KHLL
algorithm in BigQuery Standard SQL, and simulated the computation of uniqueness distribution and
joinability using publicly available datasets. The code for the experiments can likely be adapted for
other SQL engines, and is shared on GitHub&nbsp;[<a id="x48-157001"></a><a href="bibliography.html#cite.0@khll-experiments-github">143</a>].
</p><!-- l. 13 --><p class="indent">
<a id="subsubsection*.75"></a>
</p>
  <h5 class="subsubsectionHead" id="efficiency"><a id="x48-158000"></a>Efficiency</h5>
<!-- l. 15 --><p class="noindent">The KHLL algorithm and the metrics we estimate with it have been implemented in a proprietary
production environment in Go using the MapReduce programming model&nbsp;[<a id="x48-158001"></a><a href="bibliography.html#cite.0@dean2010mapreduce">95</a>]. For each column (or
specified combinations of columns) in the dataset, the MapReduce outputs a KHLL sketch in one
pass.
</p><!-- l. 20 --><p class="indent">  To reason about efficiency, we implemented two naive MapReduce algorithms. The first one, Count
Exact (CE), computes the exact variants of the metrics that KHLL estimates. The second one, Count
Exact Single (CES), computes the same set of metrics exactly, but analyzes only one single column
during a given MapReduce run.
</p><!-- l. 26 --><p class="indent">  We designed the CE MapReduce to output, for each column, a dictionary of column values to
ID sets (allowing the computation of various statistics that a KHLL sketch approximates).
One would expect that emitting the entire column-value-to-ID-set dictionary would result
in substantial memory overhead. The CES MapReduce is a more realistic simplification
of CE which outputs the tuples of column values and ID sets of only one single specific
column.
</p><!-- l. 33 --><p class="indent">  The test dataset on which we ran our performance analyses represents the data-flow graph of various
production operations at Google. Each row in this dataset represents a node in the data-flow graph and
has about 50 data columns describing the properties of the operations as well as the input and output
data. One of the data columns specifies the globally unique name of the machine where the operation is
run or controlled. We used this machine name as the ID column in our analyses. Note that this dataset
does not contain any user data and is not privacy sensitive as these are not necessary for performance
measurements.
                                                                                
                                                                                
</p><!-- l. 43 --><p class="indent">  </p><figure class="float" id="-performance-metrics-of-khll-and-exact-counting-algorithms-we-configured-khll-to-have-k-and-m-gbs-gb-of-ram-used-for-second-virtual-cpu-vcpu-is-a-platformneutral-measurement-for-cpu-resources-vcpus-vcpu-used-for-second-the-ce-mapreduce-for-analyzing-all-data-columns-in-a-tb-dataset-was-excessively-expensive-and-was-halted-">
                                                                                
                                                                                
 <!-- tex4ht:inline --><div class="tabular"> 
<span class="cmidrule"><!--  enable post-processing of cmidrule --></span><span class="cmidrule"><!--  enable post-processing of cmidrule --></span><span class="cmidrule"><!--  enable post-processing of cmidrule --></span><table class="tabular" id="TBL-34"><colgroup id="TBL-34-1g"><col id="TBL-34-1"><col id="TBL-34-2"><col id="TBL-34-3"><col id="TBL-34-4"><col id="TBL-34-5"><col id="TBL-34-6"><col id="TBL-34-7"><col id="TBL-34-8"></colgroup><tbody><tr id="TBL-34-1-" style="vertical-align:baseline;"><td class="td11" id="TBL-34-1-1" style="text-align:left; white-space:nowrap;"> MapReduce type  </td><td class="td11" id="TBL-34-1-2" style="text-align:left; white-space:nowrap;"> Input size  </td><td class="td11" id="TBL-34-1-3" style="text-align:left; white-space:nowrap;"> Algorithm  </td><td class="td11" id="TBL-34-1-4" style="text-align:right; white-space:nowrap;"> CPU usage (vCPUs)  </td><td class="td11" id="TBL-34-1-5" style="text-align:right; white-space:nowrap;"> RAM usage (GBs)  </td><td class="td11" id="TBL-34-1-6" style="text-align:right; white-space:nowrap;"> Peak RAM (GB)  </td><td class="td11" id="TBL-34-1-7" style="text-align:right; white-space:nowrap;"> Output size (GB)  </td><td class="td11" id="TBL-34-1-8" style="text-align:right; white-space:nowrap;"> Runtime (s)  </td>
</tr><tr id="TBL-34-2-" style="vertical-align:baseline;"><td class="td11" id="TBL-34-2-1" style="text-align:left; white-space:nowrap;"> <div class="multirow"><!--  rows=2  -->
All columns</div>           </td><td class="td11" id="TBL-34-2-2" style="text-align:left; white-space:nowrap;"> <div class="multirow"><!--  rows=2  -->
1 GB</div>         </td><td class="td11" id="TBL-34-2-3" style="text-align:left; white-space:nowrap;"> CE              </td><td class="td11" id="TBL-34-2-4" style="text-align:right; white-space:nowrap;">          4.01e+3  </td><td class="td11" id="TBL-34-2-5" style="text-align:right; white-space:nowrap;">         1.14e+4  </td><td class="td11" id="TBL-34-2-6" style="text-align:right; white-space:nowrap;">        9.34e+0  </td><td class="td11" id="TBL-34-2-7" style="text-align:right; white-space:nowrap;">        1.04e+0  </td><td class="td11" id="TBL-34-2-8" style="text-align:right; white-space:nowrap;">    5.83e+2  </td></tr><tr id="TBL-34-3-" style="vertical-align:baseline;"><td class="td11" id="TBL-34-3-1" style="text-align:left; white-space:nowrap;"> </td> <td class="td11" id="TBL-34-3-2" style="text-align:left; white-space:nowrap;"> </td> <td class="td11" id="TBL-34-3-3" style="text-align:left; white-space:nowrap;"> KHLL </td> <td class="td11" id="TBL-34-3-4" style="text-align:right; white-space:nowrap;"> 9.78e+2 </td> <td class="td11" id="TBL-34-3-5" style="text-align:right; white-space:nowrap;"> 2.08e+3 </td> <td class="td11" id="TBL-34-3-6" style="text-align:right; white-space:nowrap;"> 9.45e-1 </td> <td class="td11" id="TBL-34-3-7" style="text-align:right; white-space:nowrap;"> 1.60e-3 </td> <td class="td11" id="TBL-34-3-8" style="text-align:right; white-space:nowrap;"> 1.43e+2</td>
</tr><tr id="TBL-34-4-" style="vertical-align:baseline;"><td class="td11" id="TBL-34-4-1" style="text-align:left; white-space:nowrap;">                </td><td class="td11" colspan="6" id="TBL-34-4-2" style="text-align:left; white-space:nowrap;"></td>
</tr><tr id="TBL-34-5-" style="vertical-align:baseline;"><td class="td11" id="TBL-34-5-1" style="text-align:left; white-space:nowrap;">                </td><td class="td11" id="TBL-34-5-2" style="text-align:left; white-space:nowrap;"> <div class="multirow"><!--  rows=2  -->
100 GB</div>     </td><td class="td11" id="TBL-34-5-3" style="text-align:left; white-space:nowrap;"> CE              </td><td class="td11" id="TBL-34-5-4" style="text-align:right; white-space:nowrap;">          3.53e+5  </td><td class="td11" id="TBL-34-5-5" style="text-align:right; white-space:nowrap;">         3.40e+6  </td><td class="td11" id="TBL-34-5-6" style="text-align:right; white-space:nowrap;">        1.10e+2  </td><td class="td11" id="TBL-34-5-7" style="text-align:right; white-space:nowrap;">        2.64e+0  </td><td class="td11" id="TBL-34-5-8" style="text-align:right; white-space:nowrap;">    1.93e+4  </td></tr><tr id="TBL-34-6-" style="vertical-align:baseline;"><td class="td11" id="TBL-34-6-1" style="text-align:left; white-space:nowrap;"> </td> <td class="td11" id="TBL-34-6-2" style="text-align:left; white-space:nowrap;"> </td> <td class="td11" id="TBL-34-6-3" style="text-align:left; white-space:nowrap;"> KHLL </td> <td class="td11" id="TBL-34-6-4" style="text-align:right; white-space:nowrap;"> 6.25e+4 </td> <td class="td11" id="TBL-34-6-5" style="text-align:right; white-space:nowrap;"> 3.11e+4 </td> <td class="td11" id="TBL-34-6-6" style="text-align:right; white-space:nowrap;"> 2.00e+0 </td> <td class="td11" id="TBL-34-6-7" style="text-align:right; white-space:nowrap;"> 3.46e-3 </td> <td class="td11" id="TBL-34-6-8" style="text-align:right; white-space:nowrap;"> 2.63e+2</td>
</tr><tr id="TBL-34-7-" style="vertical-align:baseline;"><td class="td11" id="TBL-34-7-1" style="text-align:left; white-space:nowrap;">                </td><td class="td11" colspan="6" id="TBL-34-7-2" style="text-align:left; white-space:nowrap;"></td>
</tr><tr id="TBL-34-8-" style="vertical-align:baseline;"><td class="td11" id="TBL-34-8-1" style="text-align:left; white-space:nowrap;">                </td><td class="td11" id="TBL-34-8-2" style="text-align:left; white-space:nowrap;"> <div class="multirow"><!--  rows=2  -->
1 TB</div>          </td><td class="td11" id="TBL-34-8-3" style="text-align:left; white-space:nowrap;"> CE              </td><td class="td11" id="TBL-34-8-4" style="text-align:right; white-space:nowrap;">             (n.a.)  </td><td class="td11" id="TBL-34-8-5" style="text-align:right; white-space:nowrap;">           (n.a.)  </td><td class="td11" id="TBL-34-8-6" style="text-align:right; white-space:nowrap;">          (n.a.)  </td><td class="td11" id="TBL-34-8-7" style="text-align:right; white-space:nowrap;">          (n.a.)  </td><td class="td11" id="TBL-34-8-8" style="text-align:right; white-space:nowrap;">      (n.a.)  </td>
</tr><tr id="TBL-34-9-" style="vertical-align:baseline;"><td class="td11" id="TBL-34-9-1" style="text-align:left; white-space:nowrap;">                </td><td class="td11" id="TBL-34-9-2" style="text-align:left; white-space:nowrap;">          </td><td class="td11" id="TBL-34-9-3" style="text-align:left; white-space:nowrap;"> KHLL        </td><td class="td11" id="TBL-34-9-4" style="text-align:right; white-space:nowrap;">          9.92e+5  </td><td class="td11" id="TBL-34-9-5" style="text-align:right; white-space:nowrap;">         2.37e+6  </td><td class="td11" id="TBL-34-9-6" style="text-align:right; white-space:nowrap;">        2.52e+0  </td><td class="td11" id="TBL-34-9-7" style="text-align:right; white-space:nowrap;">        3.50e-3  </td><td class="td11" id="TBL-34-9-8" style="text-align:right; white-space:nowrap;">    1.13e+4  </td>
</tr><tr id="TBL-34-10-" style="vertical-align:baseline;"><td class="td11" id="TBL-34-10-1" style="text-align:left; white-space:nowrap;"> <div class="multirow"><!--  rows=2  -->
Single column</div>       </td><td class="td11" id="TBL-34-10-2" style="text-align:left; white-space:nowrap;"> 1 GB         </td><td class="td11" id="TBL-34-10-3" style="text-align:left; white-space:nowrap;"> CES            </td><td class="td11" id="TBL-34-10-4" style="text-align:right; white-space:nowrap;">          7.23e+2  </td><td class="td11" id="TBL-34-10-5" style="text-align:right; white-space:nowrap;">         4.76e+3  </td><td class="td11" id="TBL-34-10-6" style="text-align:right; white-space:nowrap;">        8.07e-1  </td><td class="td11" id="TBL-34-10-7" style="text-align:right; white-space:nowrap;">        1.57e-2  </td><td class="td11" id="TBL-34-10-8" style="text-align:right; white-space:nowrap;">    5.76e+2  </td>
</tr><tr id="TBL-34-11-" style="vertical-align:baseline;"><td class="td11" id="TBL-34-11-1" style="text-align:left; white-space:nowrap;">                </td><td class="td11" colspan="6" id="TBL-34-11-2" style="text-align:left; white-space:nowrap;"></td>
</tr><tr id="TBL-34-12-" style="vertical-align:baseline;"><td class="td11" id="TBL-34-12-1" style="text-align:left; white-space:nowrap;">                </td><td class="td11" id="TBL-34-12-2" style="text-align:left; white-space:nowrap;"> 100 GB     </td><td class="td11" id="TBL-34-12-3" style="text-align:left; white-space:nowrap;"> CES            </td><td class="td11" id="TBL-34-12-4" style="text-align:right; white-space:nowrap;">          4.47e+4  </td><td class="td11" id="TBL-34-12-5" style="text-align:right; white-space:nowrap;">         1.30e+5  </td><td class="td11" id="TBL-34-12-6" style="text-align:right; white-space:nowrap;">        1.79e+0  </td><td class="td11" id="TBL-34-12-7" style="text-align:right; white-space:nowrap;">        2.35e-1  </td><td class="td11" id="TBL-34-12-8" style="text-align:right; white-space:nowrap;">    1.10e+3  </td>
</tr></tbody></table>                                                                                                             </div>
<a id="x48-158002r1"></a>
<figcaption class="caption"><span class="id"> <span class="t1xsc-">T<span class="small-caps">able</span></span><span class="t1xsc-">&nbsp;4.1:&nbsp;</span></span><span class="content"><span class="t1xr-">Performance metrics of KHLL and exact counting algorithms. We configured KHLL to
          have </span><!-- l. 65 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.04em;">K</span></span></span></span></span></span><span class="t1xr-">=2048
          and </span><!-- l. 65 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.081em;">M</span></span></span></span></span></span><span class="t1xr-">=1024.
          1  GBs  =  1  GB  of  RAM  used  for  1  second.  Virtual  CPU  (vCPU)  is  a  platform-neutral
          measurement  for  CPU  resources.  1  vCPUs  =  1  vCPU  used  for  1  second.  The  CE
          MapReduce for analyzing all data columns in a 1 TB dataset was excessively expensive
          and was halted.</span>                                                          </span></figcaption><!-- tex4ht:label?: x48-158002r1  -->
                                                                                
                                                                                
  </figure>
<!-- l. 68 --><p class="indent">  We ran KHLL, CE and CES on several subsets of the test dataset in a shared computational cluster at
Google. These analyses were provided computational resources at a priority class that is typically used
for batch jobs. Measuring the performance metrics of jobs in a shared computational cluster is not
straightforward since any given machine can host multiple unrelated jobs with varying priority classes
that can consume machine resources in unpredictable ways. So we focused on the performance metrics
which a typical customer of a commercial computational cluster (e.g., Amazon EC2, Google GCE)
would pay for.
</p><!-- l. 77 --><p class="indent">  Table&nbsp;4.1 shows the performance metrics of the MapReduce runs. As one can see, KHLL is
consistently more efficient than CE across various metrics. Performance differs by 1 or 2 orders of
magnitude even for the relatively small datasets in our experiment. In fact, the CE MapReduce jobs for
analyzing all data columns in an 1 TB dataset became too expensive to be completed in the shared
computational cluster. Interestingly, per our test dataset, it is even more memory efficient (though
slightly slower) to compute the KHLL sketches of all data columns in a single MapReduce run, than to
analyze a single data column using CES. This performance disparity is critical in practice, as it is
the difference between an analysis that is feasible to run, and one that is too slow to be
worthwhile.
</p><!-- l. 89 --><p class="indent">  In various production setups at Google, KHLL scales to analyze hundreds of datasets, each
containing potentially trillions of rows and tens of thousands of data columns measuring petabytes in
sizes, to produce millions of sketches in each run.
  <a id="subsubsection*.76"></a>
</p>
  <h5 class="subsubsectionHead" id="accuracy-of-uniqueness-distribution-estimation"><a id="x48-159000"></a>Accuracy of uniqueness distribution estimation</h5>
<!-- l. 97 --><p class="noindent">We measured the accuracy of the estimated uniqueness distribution using three publicly available
datasets. The first two are taken from the Netflix Prize dataset which was released in 2006 and shown to
be reidentifying for a significant fraction of the users&nbsp;[<a id="x48-159001"></a><a href="bibliography.html#cite.0@narayanan2008robust">294</a>]. We estimate the uniqueness distribution of
(a) movies, and (b) tuples of movie and date. Note that we do not consider the entire list of movies (or
respectively all pairs of movie and date) associated with individual pseudo-identifiers. We
could analyze this easily but it will be less interesting for our validation purposes, as most of
the values will be unique. The third dataset is the 2010 US Census&nbsp;[<a id="x48-159002"></a><a href="bibliography.html#cite.0@us-census-2010">96</a>] through which
we count the number of distinct individuals associated with a given (ZIP code, age) tuple.
The corresponding uniqueness distribution gives an indication of the reidentifiability of
these quasi-identifiers within the US population. As we will see, the three datasets present
different uniqueness profiles, allowing us to test the accuracy of KHLL estimation in different
situations.
</p><!-- l. 113 --><p class="indent">  We  simulate  the  KHLL  algorithm,  with  parameters
<!-- l. 113 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.04em;">K</span></span><span class="mjx-mo MathClass-rel MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span><span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2048</span></span></span></span></span></span></span> and
<!-- l. 113 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.081em;">M</span></span><span class="mjx-mo MathClass-rel MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span><span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1024</span></span></span></span></span></span></span>. We learned from our
production settings that <!-- l. 114 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.04em;">K</span></span><span class="mjx-mo MathClass-rel MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span><span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2048</span></span></span></span></span></span></span>
gives a good trade-off between precision and memory usage.
<!-- l. 115 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.081em;">M</span></span><span class="mjx-mo MathClass-rel MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span><span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1048</span></span></span></span></span></span></span> was
chosen as the smallest possible parameter of the HLL++ library available in BigQuery Standard SQL.
                                                                                
                                                                                
We use <!-- l. 117 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.081em;">M</span></span><span class="mjx-mo MathClass-rel MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span><span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">512</span></span></span></span></span></span></span>
in our production pipelines, which gives a comparable degree of precision in ID cardinality estimation
(4% vs.&nbsp;3%). As HLL++ counts elements exactly at lower cardinalities, this has a negligible
influence on our estimations. For each dataset, we compare the KHLL-based estimate to the
true distribution, which is computed exactly (without approximation) using standard SQL
operators.
</p><!-- l. 124 --><p class="indent">  Figure&nbsp;4.5a plots the cumulative uniqueness distribution of movies in the Netflix
Prize dataset. It allows an analyst to quickly answer the question: how much data
do we lose if we only release the movies which have been rated by more than
<!-- l. 127 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span> users, for all
possible values of <!-- l. 127 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span>.
The uniqueness of movies is low: the median number of associated users per movie is larger than 500.
Figure&nbsp;4.5b plots the cumulative uniqueness distribution of the tuples of movie and date. The typical
uniqueness of this setting is high: over 80% of the (movie, date) tuples are associated with 10 or less
unique IDs.
</p><!-- l. 134 --><p class="indent">  Figure&nbsp;4.5c shows the cumulative uniqueness distribution of tuples (ZIP code, age) in the US census.
Each individual in the census dataset appears in only a single row, different from the case with Netflix
datasets where ratings from the same user exist on several separate records. The uniqueness of (ZIP
code, age) tuples is variable: a significant portion of possible values is associated to only
a few individuals, but many of the (ZIP code, age) tuples associate with larger than 100
individuals.
</p>
  <figure class="figure" id="-estimation-of-uniqueness-distribution-in-different-datasets-using-khll-as-compared-to-true-distribution-computed-exactly-without-approximation"> 

                                                                                
                                                                                
                                                                                
                                                                                
<div class="subfigure">
<!-- l. 144 --><p class="noindent"></p><!-- l. 146 --><p class="noindent"><img alt="    KHLL  estimation
111111000001UC....nu0000002468im012345quulTearntueiesv dseisdtrisibturitbiuotnion  " src="index29x.svg">
<a id="x48-159003r1"></a>
</p>
<div class="caption"><span class="id"><span class="t1xr-">(a) </span></span><span class="content"><span class="t1xr-">Netflix Prize: movie ID</span>
</span></div>                                        </div><div class="subfigure">
<!-- l. 174 --><p class="noindent"></p><!-- l. 176 --><p class="noindent"><img alt="    KHLL  estimation
11111000001UC....nu000002468im01234quulTearntueiesv dseisdtrisibturitbiuotnion  " src="index30x.svg">
<a id="x48-159004r2"></a>
</p>
<div class="caption"><span class="id"><span class="t1xr-">(b) </span></span><span class="content"><span class="t1xr-">Netflix Prize: movie ID and date</span>
</span></div>                                        </div> <div class="subfigure">
<!-- l. 204 --><p class="noindent"></p><!-- l. 206 --><p class="noindent"><img alt="    KHLL  estimation
11111000001UC....nu000002468im01234quulTearntueiesv dseisdtrisibturitbiuotnion  " src="index31x.svg">
<a id="x48-159005r3"></a>
</p>
<div class="caption"><span class="id"><span class="t1xr-">(c) </span></span><span class="content"><span class="t1xr-">US Census: ZIP code and age</span>
</span></div>                                                                                </div>
                                                                                
                                                                                
<a id="x48-159006r6"></a>
<div class="caption"><span class="id"> <span class="t1xsc-">F<span class="small-caps">igure</span></span><span class="t1xsc-">&nbsp;4.6:&nbsp;</span></span><span class="content"><span class="t1xr-">Estimation of uniqueness distribution in different datasets using KHLL as compared to
           true distribution (computed exactly without approximation).</span>                       </span></div>
                                                                                
                                                                                
  </figure>
<!-- l. 239 --><p class="indent">  Across all three experiments, we observe that the estimate of uniqueness distribution using KHLL is
accurate.
  <a id="subsubsection*.77"></a>
</p>
  <h5 class="subsubsectionHead" id="accuracy-of-joinability-and-containment-estimation"><a id="x48-160000"></a>Accuracy of joinability and containment estimation</h5>
<!-- l. 245 --><p class="noindent">As described in Section&nbsp;4.1.3.0, joinability is most interesting from the privacy perspective
when a pseudonymous ID space becomes joinable with PII. Specifically if columns
<!-- l. 247 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span> and
<!-- l. 247 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span></span> are joinable, and that
<!-- l. 248 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span> uniquely identifies a
pseudonymous ID space while <!-- l. 248 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span></span>
uniquely identifies PII. Three conditions are important for estimating such risk: the ratio of
<!-- l. 250 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span> values uniquely
identifying <!-- l. 250 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.137em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.225em; padding-right: 0.137em;">I</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span>, the ratio
of <!-- l. 251 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span></span> values uniquely
identifying <!-- l. 251 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.137em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.225em; padding-right: 0.137em;">I</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span></span>, and
the containment of <!-- l. 252 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span>
in <!-- l. 252 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span></span> (or
containment of <!-- l. 252 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span></span>
in <!-- l. 252 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span>).
</p><!-- l. 254 --><p class="indent">  The estimate of ratio of column values uniquely identifying an ID can be seen as an estimator of the
parameter <!-- l. 255 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span></span></span></span></span>
based on an observation of a binomial distribution of parameters
<!-- l. 256 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.04em;">K</span></span></span></span></span></span> and
<!-- l. 256 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span></span></span></span></span>. It is well-known that a binomial
distribution of parameters <!-- l. 257 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.04em;">K</span></span></span></span></span></span>
and <!-- l. 257 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span></span></span></span></span> has
a variance of <!-- l. 257 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mo MathClass-open"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span><span class="mjx-mo MathClass-bin MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mo MathClass-close"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.04em;">K</span></span></span></span></span></span></span>,
so the estimator which divides the result of the distribution by
<!-- l. 258 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.04em;">K</span></span></span></span></span></span> has a variance
of <!-- l. 259 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mo MathClass-open"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span><span class="mjx-mo MathClass-bin MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mo MathClass-close"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span><span class="mjx-mo MathClass-bin MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∕</span></span><span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.04em;">K</span></span></span></span></span></span></span>, or a standard
distribution of <!-- l. 259 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mrow"><span class="mjx-msqrt"><span class="mjx-box" style="padding-top: 0.045em;"><span class="mjx-surd"><span class="mjx-char MJXc-TeX-size1-R" style="padding-top: 0.593em; padding-bottom: 0.593em;">√</span></span><span class="mjx-box" style="padding-top: 0.063em; border-top: 1px solid;"><span class="mjx-mrow"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mo MathClass-open"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span><span class="mjx-mo MathClass-bin MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mo MathClass-close"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span><span class="mjx-mo MathClass-bin MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∕</span></span><span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.04em;">K</span></span></span></span></span></span></span></span></span></span></span></span>.
Therefore, we focus our experiments on estimating the containment metric, as defined in
Definition&nbsp;77.
</p><!-- l. 263 --><p class="indent">  Using <!-- l. 263 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.04em;">K</span></span><span class="mjx-mo MathClass-rel MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span><span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2048</span></span></span></span></span></span></span> hashes,
and assuming <!-- l. 263 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span>
and <!-- l. 263 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span></span>
have the same cardinality, the estimate of containment falls within
<!-- l. 264 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo MathClass-bin"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">±</span></span></span></span></span></span>5% of the true value
over 90% of the time, and always stays within 10% of the true value. This is true regardless of the cardinality of the
intersection of <!-- l. 266 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span>
                                                                                
                                                                                
and <!-- l. 267 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span></span>.
Figure&nbsp;4.7 shows the median as well as the 5th and 95th percentiles of the containment estimation, for
cardinalities of <!-- l. 269 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mrow"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">10</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="margin-top: -0.07em; padding-bottom: 0.446em;">,</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">000</span></span></span></span></span></span></span>
and <!-- l. 269 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mrow"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">10</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="margin-top: -0.07em; padding-bottom: 0.446em;">,</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">000</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="margin-top: -0.07em; padding-bottom: 0.446em;">,</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">000</span></span></span></span></span></span></span>.
</p>
  <figure class="figure" id="-estimation-of-containment-with-fixed-cardinalities-the-bars-indicate-the-th-and-th-percentiles-of-the-estimates"> 

                                                                                
                                                                                
                                                                                
                                                                                
<div class="subfigure">
<!-- l. 273 --><p class="noindent"></p><!-- l. 275 --><p class="noindent"><img alt="024681024681TE0000000000rus00etimcaotnetdai cnomnetnatin(m%e)nt (% )  " src="index32x.svg">
<a id="x48-160001r1"></a>
</p>
<div class="caption"><span class="id"><span class="t1xr-">(a)</span> </span><span class="content"><span class="t1xr-">Low                                                     cardinality:</span>
   <!-- l. 301 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mrow"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">10</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="margin-top: -0.07em; padding-bottom: 0.446em;">,</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">000</span></span></span></span></span></span></span>
</span></div>                                        </div><div class="subfigure">
<!-- l. 303 --><p class="noindent"></p><!-- l. 305 --><p class="noindent"><img alt="024681024681T0000000000r00ue containment (% )  " src="index33x.svg">
<a id="x48-160002r2"></a>
</p>
<div class="caption"><span class="id"><span class="t1xr-">(b)</span> </span><span class="content"><span class="t1xr-">High                                                    cardinality:</span>
   <!-- l. 330 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mrow"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">10</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="margin-top: -0.07em; padding-bottom: 0.446em;">,</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">000</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="margin-top: -0.07em; padding-bottom: 0.446em;">,</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">000</span></span></span></span></span></span></span>
</span></div>                                        </div> <a id="x48-160003r7"></a>
<div class="caption"><span class="id"> <span class="t1xsc-">F<span class="small-caps">igure</span></span><span class="t1xsc-">&nbsp;4.7:&nbsp;</span></span><span class="content"><span class="t1xr-">Estimation of containment with fixed cardinalities. The bars indicate the 95th and 5th
           percentiles of the estimates.</span>                                                </span></div>
                                                                                
                                                                                
  </figure>
<!-- l. 336 --><p class="indent">  When <!-- l. 336 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span>
and <!-- l. 336 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span></span>
have different cardinalities, however, precision can suffer. Figure&nbsp;4.8 shows
the median as well as the 5th and 95th percentiles of the estimation of
<!-- l. 339 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mrow"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span><span class="mjx-mrow"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span><span class="mjx-mo MathClass-bin MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.372em;">∩</span></span><span class="mjx-msub MJXc-space2"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span></span><span class="mjx-mo MathClass-bin MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∕</span></span><span class="mjx-mrow MJXc-space2"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span><span class="mjx-mrow"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span></span></span></span></span></span></span>, where true value
is fixed at 50%, <!-- l. 340 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mrow"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span><span class="mjx-mrow"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span></span><span class="mjx-mo MathClass-rel MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span><span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">100</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="margin-top: -0.07em; padding-bottom: 0.446em;">,</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">000</span></span></span></span></span></span></span>,
and <!-- l. 340 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span><span class="mjx-mrow"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span></span></span></span></span></span>
varies between 50,000 and 2,000,000 (so, the cardinality ratio
<!-- l. 342 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mrow"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span><span class="mjx-mrow"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span></span><span class="mjx-mo MathClass-bin MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∕</span></span><span class="mjx-mrow MJXc-space2"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span><span class="mjx-mrow"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span></span></span></span></span></span></span> ranges
from 0.5 to 20).
</p>
  <figure class="figure"> 

                                                                                
                                                                                
                                                                                
                                                                                
<!-- l. 346 --><p class="noindent" id="-estimation-of-containment-with-varying-cardinality-ratio-the-true-containment-is-the-bars-indicate-the-th-and-th-percentiles-of-the-estimates"><img alt="02468111112024681CE02468000000as0rtidminaatleidtycraotniotainment (% )  " src="index34x.svg">
<a id="x48-160004r8"></a>
</p>
<figcaption class="caption"><span class="id"> <span class="t1xsc-">F<span class="small-caps">igure</span></span><span class="t1xsc-">&nbsp;4.8:&nbsp;</span></span><span class="content"><span class="t1xr-">Estimation  of  containment  with  varying  cardinality  ratio.  The  true  containment  is</span>
           <!-- l. 377 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mrow"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0.5</span></span></span></span></span></span></span><span class="t1xr-">.
           The bars indicate the 95th and 5th percentiles of the estimates.</span>                     </span></figcaption><!-- tex4ht:label?: x48-160004r8  -->
                                                                                
                                                                                
  </figure>
<!-- l. 380 --><p class="indent">  We can observe that the larger the cardinality ratio gets, the worse the precision becomes. This is expected: since we
compute <!-- l. 382 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span><span class="mjx-mrow"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span><span class="mjx-mo MathClass-bin MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.372em;">∩</span></span><span class="mjx-msub MJXc-space2"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span></span></span></span></span></span> using the
inclusion-exclusion principle, and the error of the estimation is proportional to the cardinality estimated, the estimation
error of <!-- l. 384 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span><span class="mjx-mrow"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span><span class="mjx-mo MathClass-bin MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.372em;">∩</span></span><span class="mjx-msub MJXc-space2"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span></span></span></span></span></span> should be
roughly proportional to <!-- l. 385 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mrow"><span class="mjx-mtext qopname"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">max</span></span><span class="mjx-mo"><span class="mjx-char"></span></span><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mrow"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span><span class="mjx-mrow"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span></span><span class="mjx-mo MathClass-punc MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mrow MJXc-space1"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span><span class="mjx-mrow"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span></span></span>.
Since the value of <!-- l. 386 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span><span class="mjx-mrow"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span><span class="mjx-mo MathClass-bin MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.372em;">∩</span></span><span class="mjx-msub MJXc-space2"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span></span></span></span></span></span> is
roughly proportional to <!-- l. 387 --><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="Equation"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mrow"><span class="mjx-mtext qopname"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">min</span></span><span class="mjx-mo"><span class="mjx-char"></span></span><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mrow"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span><span class="mjx-mrow"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span></span><span class="mjx-mo MathClass-punc MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mrow MJXc-space1"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span><span class="mjx-mrow"><span class="mjx-msub"><span class="mjx-base" style="margin-right: -0.153em;"><span class="mjx-mrow"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-script-R" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.153em;">C</span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mrow" style=""><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span></span></span>,
the error ratio of the containment estimation will grow linearly with the cardinality ratio. This is what
we observe in practice.
                                                                                
                                                                                
</p>
  <!-- l. 1 --><div class="crosslinks"><p class="noindent"><a href="EstimatingReidentifiabilityAndJoinabilityUsingKHLL.html">LINKPREV</a><a href="AnalyzingPrivacyRisksAtScale.html#ExperimentalValidation.html">LINKUP</a><a href="SummaryAndPerspectives.html">LINKNEXT</a></p></div>
   
 


      </div>
    </article>
    <nav>
      <ul class="nav">
        <li><a href="EstimatingReidentifiabilityAndJoinabilityUsingKHLL.html">← previous</a></li>
        <li><a href="AnalyzingPrivacyRisksAtScale.html#ExperimentalValidation.html">up</a></li>
        <li><a href="SummaryAndPerspectives.html">next →</a></li>
      </ul>
      <ul>
        <li><a href="#menuGlobal">back to top</a></li>
        <li><a href="index.html">table of contents</a></li>
      </ul>
    </nav>
    <div class="feedback">
      All opinions here are my own, not my employers.
      <br>
        I'm always glad to get feedback! If you'd like to contact me, please do so via
        e-mail (<span class="baddirection">se.niatnofsed@neimad</span>) or Twitter
        (<a href="https://twitter.com/TedOnPrivacy">@TedOnPrivacy</a>).
    </div>
    <footer>
      <p xmlns:dct="http://purl.org/dc/terms/" xmlns:vcard="http://www.w3.org/2001/vcard-rdf/3.0#">
        <br />
        by
        <a rel="dct:publisher" href="http://desfontain.es">
          <span property="dct:title">Damien Desfontaines</span>
        </a>
        &mdash;
        <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0">
          <img src="../by-nc.png" style="border-style: none;" alt="CC BY-NC 4.0" title="This thesis was licensed under the Creative Commons Attribution-NonCommercial 4.0 International (CC BY-NC 4.0) license."/>
        </a>
        &mdash;
        compiled from L<sup>A</sup>T<sub>E</sub>X using
        <a href="https://tug.org/tex4ht/">tex4ht</a>,
        <a href="https://github.com/michal-h21/make4ht">make4ht</a>,
        and <a href="/privacy/latex-to-html.html">a lot of pain</a>.
      </p>
    </footer>
  </div>
</body>
</html>
